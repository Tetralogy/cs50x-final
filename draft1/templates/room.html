{% extends "layout.html" %}

{% block title %}
{{ room.name }} - Tasks
{% endblock %}

{% block main %}
<body>
    <h1>{{ room.name }} - Tasks</h1>
    <ul>
        {% for task in room.tasks %}
            <li>
                <form action="{{ url_for('toggle_task', task_id=task.id) }}" method="get" style="display: inline;">
                    <input type="checkbox" onChange="this.form.submit()" {% if task.completed %}checked{% endif %}>
                </form>
                {{ task.description }}
            </li>
        {% endfor %}
    </ul>
    <h3>Add a Task</h3>
    <form action="{{ url_for('add_task', room_id=room.id) }}" method="post">
        <input type="text" name="task_description" required>
        <button type="submit">Add Task</button>
    </form>
    <p><a href="{{ url_for('home') }}">Back to Home</a></p>

{% endblock %}
