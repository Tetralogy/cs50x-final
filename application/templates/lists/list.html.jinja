{% if view == "quicknote" %}
<form
    hx-post="/create/Task"
    hx-target="#list-updater-{{ list_obj.id }}"
    hx-swap="beforeend"
    hx-indicator="#updating-indicator"
    hx-on::after-request="this.reset()"
>
    <input type="text" name="name" placeholder="Task title" />
    <input type="hidden" name="room_id" value="{{ current_user.active_home.active_room_id }}" />
    <button type="submit" class="btn btn-primary">Add task draft</button>
</form>
{% endif %}
<div
id="list-updater-{{ list_obj.id }}"
{% if view == "quicknote" %}
        class="row g-0 row-cols-1 container-fluid bg-dark border border-primary border-5 rounded-4 p-1 sortable"
{% else %}
        class="row g-0 row-cols-4 container-fluid bg-dark border border-primary border-5 rounded-4 p-1 sortable"
{% endif %}
        hx-put="/update_list_order/{{ list_obj.id }}"
        hx-include="[name='items']"
        hx-trigger="end, remove, add delay:1s"
        hx-indicator="#updating-indicator"
        data-model="{{ list_obj.list_type }}"
        data-list_id="{{ list_obj.id }}"
        >
{#fixme: sortable broken#}
{% for entry in list_obj.entries | sort(attribute='order') %}
    {% include 'lists/model/' + entry.item_model.lower() + '.html.jinja' %}
{% endfor %}
</div>

<h1>view {{ view }}</h1>