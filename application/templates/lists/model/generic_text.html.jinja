<li
    class="list-group-item pe-0 align-items-start shadow grabbable"
    id="{{ entry.item_model }}list-{{ entry.id }}"
    data-id="{{ entry.id }}"
    data-name="{{ entry.get_item().name }}"
    data-order="{{ entry.order }}"
    data-list_id="{{ entry.user_list_id }}"
    data-model="{{ entry.item_model }}"
    data-bs-toggle="tooltip"
    data-bs-html="true"
    data-bs-placement="left"
    data-bs-title="<u>Drag</u> to <span class='text-nowrap'><b>reorder</b> {{ entry.item_model }}</span>"
>
<div class="d-flex">
    {% set ns = namespace(has_children=False) %}

    {% for parent_list, child_lists in child_lists.items() %}
        {% for child_list in child_lists %}
            {% if child_list.parent_entry_id == entry.id %}
                {% if child_list.entries|length <= 0 %}
                    {% set ns.has_children = False %}
                {% else %}
                    {% set ns.has_children = True %}
                {% endif %}
            {% endif %}
        {% endfor %}
    {% endfor %}

        <div
            class="flex-shrink-1"
            id="accordion-button-{{ entry.item_model }}list-{{ entry.id }}"
            {% if ns.has_children %}
                style="display: block;"
            {% else %}
                style="display: none;"
            {% endif %}
        >
            <button
                class="accordion-button p-0 border border-danger"
                type="button"
                data-bs-toggle="collapse"
                data-bs-target="#sublist-collapse-{{ entry.item_model }}list-{{ entry.id }}"
                aria-expanded="true"
            >
                {% include 'base/parts/debug/listname.html.jinja' %}
            </button>
        </div>
    
        <div class="flex-grow-1 border border-warning">
            <input type="hidden" name="items" value="{{ entry.id }}" />
            {{ entry.get_item().name }}
            {% include 'base/parts/debug/order.html.jinja' %}
        </div>
</div>
    {% include 'lists/sublist_loader.html.jinja' %}
</li>
