{% extends "base/layout.html" %}
{% block title %}
    Create New Home Form: rooms
{% endblock %}

{% block main %}
    <div
        class=""
        id="floor-list-loader"
        hx-get="/show_list/"
        hx-vals='{"list_model": "Floor", "view_override":"horiz-scroll"}'
        hx-trigger="load once"
        hx-swap="outerHTML"
        hx-indicator="#updating-indicator"
    >
        <input id="dummy-placeholder" type="hidden" name="items" />
        <div id="updating-indicator" class="htmx-indicator">Updating...</div>
    </div>
    <h1>Create Rooms</h1>
    <p>
        Follow the instructions below to create and customize rooms for your
        home:
    </p>
    <ol>
        #bug edit this
        <li>
            Review Default Room Types:
            <ul>
                <li>
                    The default room types are listed in the dark container
                    below. These include common room types like 'Living Room',
                    'Bedroom', etc.
                </li>
                <li>
                    If you wish to use any of these default types, simply drag
                    and drop them into the desired position.
                </li>
            </ul>
        </li>
        <li>
            Customize Your Room List:
            <ul>
                <li>
                    In the yellow container, you will see the list of rooms you
                    are creating for your home.
                </li>
                <li>You can add new custom rooms or modify existing ones.</li>
                <li>
                    Use the drag-and-drop feature to organize the rooms in the
                    order you prefer.
                </li>
            </ul>
        </li>
        <li>
            Save and Continue:
            <ul>
                <li>
                    Once you are satisfied with your room list, make sure to
                    save your changes.
                </li>
                <li>
                    You can then proceed to the next step of your home setup.
                </li>
            </ul>
        </li>
    </ol>
    <div
        class="row g-0 row-cols-4 container-fluid bg-dark border border-primary border-5 rounded-top-4 p-1"
        id="default-room-types-container"
        hx-get="/show_list/{{ defaults_list.id }}"
        hx-trigger="load"
        hx-swap="outerHTML"
        hx-indicator="#updating-indicator"
    ></div>

    <div
        class="row g-0 row-cols-4 container-fluid bg-warning border border-success border-5 rounded-bottom-4 p-1"
        id="room-list-loader"
        hx-get="/show_list/{{ room_list.id }}"
        hx-trigger="load once"
        hx-swap="outerHTML"
        hx-indicator="#updating-indicator"
    >
        <input id="dummy-placeholder" type="hidden" name="items" />
        <div id="updating-indicator" class="htmx-indicator">Updating...</div>
    </div>
    <br />
    <div>
        <a class="btn btn-primary" href="/floorplan/prev" hx-boost="false">
            Edit Previous Floor</a
        >
        <a class="btn btn-primary" href="/floorplan/next" hx-boost="false">
            Edit Next Floor</a
        >

        {% if has_rooms %}
            <a
                class="btn btn-success"
                href="/map/Floor/{{ current_user.active_home.active_floor_id }}"
            >
                Map
            </a>
        {% endif %}
    </div>
{% endblock %}
