{% extends "base/layout.html" %}
{% block title %}
    House Map: list of rooms
{% endblock %}

{% block main %}
<div class="container-fluid">
<div class="row g-0 overflow-auto" style="height: 50vh;">
            <ul class="nav nav-tabs">
                {% for navfloor in floor_list.entries | sort(attribute='order') | reverse %}
                    <li class="nav-item">
                        <a
                            class="nav-link {% if navfloor.item_id == current_user.active_home.active_floor_id %}active{% endif %}"
                            href="/map/{{ navfloor.item_id }}"
                        >
                            {{ navfloor.get_item().name }}</a
                        >
                    </li>
                {% endfor %}
            </ul>
            <div class="col-11">
                
            <form method="POST" hx-boost="false" action="/walkthrough/start" id="walkthrough-form">
                        <div
                            class="row g-0 row-cols-4 container-fluid bg-dark border border-success border-5 rounded-bottom-4 p-1"
                            id="room-list-loader"
                            hx-get="/show_list/"
                            hx-vals='{"list_type": "Room"}'
                            hx-trigger="load once"
                            hx-swap="outerHTML"
                            hx-indicator="#updating-indicator"
                        >
                            <input id="dummy-placeholder" type="hidden" name="items" />
                            <div id="updating-indicator" class="htmx-indicator">
                                Updating...
                            </div>
                        </div>
                    
                    
                        {# <button type="submit" class="btn btn-success">
                            Start Walkthrough
                        </button> #}
                    
                        {# <a class="btn btn-success" href="/walkthrough/setup">
                            Setup Walkthrough
                        </a> #}
                    
            </form>
            </div>
            <div class="col-1 bg-dark">
            </div>
</div>

<div class="row g-0 overflow-auto" style="height: 50vh;">
<div class="col-11">
{% include 'tasks/all_tasks_loader.html.jinja' %}
</div>
<div class="col-1 bg-light">
</div>
</div>
</div>
{% endblock %}
