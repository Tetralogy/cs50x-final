{% extends "base/layout.html" %}
{% block title %}
    House Map: list of rooms
{% endblock %}

{% block main %}
<div
    class=""
    id="room-list-loader"
    hx-get="/show_list/"
    hx-vals='{"list_model": "Floor", "view_override":"horiz-scroll"}'
    hx-trigger="load once"
    hx-swap="outerHTML"
    hx-indicator="#updating-indicator"
>
    <input id="dummy-placeholder" type="hidden" name="items" />
    <div id="updating-indicator" class="htmx-indicator">
        Updating...
    </div>
</div>


{# <div class="container-fluid"> #}
            <ul class="sticky-top nav nav-tabs d-flex flex-nowrap text-nowrap overflow-x-auto bg-body"> #bug: convert this to standard list loader with this style
                {% for navfloor in floor_list.entries | sort(attribute='order') | reverse %}
                    <li class="nav-item">
                        <a
                            class="nav-link h-100 {% if navfloor.item_id == current_user.active_home.active_floor_id %}active bg-primary{% endif %}"
                            href="/map/{{ navfloor.item_id }}"
                        >
                            {{ navfloor.get_item().name }}</a
                        >
                    </li>
                {% endfor %}
            </ul>
<div class="row g-0 overflow-auto" style="height: 50vh;">
            <div class="col-11">
                
            <form method="POST" hx-boost="false" action="/walkthrough/start" id="walkthrough-form">
                        <div
                            class=""
                            id="room-list-loader"
                            hx-get="/show_list/"
                            hx-vals='{"list_model": "Room"}'
                            hx-trigger="load once"
                            hx-swap="outerHTML"
                            hx-indicator="#updating-indicator"
                        >
                            <input id="dummy-placeholder" type="hidden" name="items" />
                            <div id="updating-indicator" class="htmx-indicator">
                                Updating...
                            </div>
                        </div>
                    
                    
                        {# <button type="submit" class="btn btn-success">
                            Start Walkthrough
                        </button> #}
                    
                        {# <a class="btn btn-success" href="/walkthrough/setup">
                            Setup Walkthrough
                        </a> #}
                    
            </form>
            </div>
            <div class="col-1 bg-dark">
            </div>
</div>

<div class="row g-0 overflow-auto" style="height: 50vh;">
<div class="col-11">
{% include 'tasks/all_tasks_loader.html.jinja' %}
</div>
<div class="col-1 bg-light">
</div>
</div>
{# </div> #}
{% endblock %}
